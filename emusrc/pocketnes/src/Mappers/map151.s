 .align
 .pool
 .text
 .align
 .pool

#include "../equates.h"

	global_func mapper151init
@----------------------------------------------
mapper151init:
@----------------------------------------------
	.word write0,write1,write2,write3

	ldrb_ r0,cartflags
	orr r0,r0,#VS
	strb_ r0,cartflags

	mov pc,lr
@----------------------------------------------------------------------------
@ .align
@ .pool
@ .section .iwram, "ax", %progbits
@ .subsection 7
@ .align
@ .pool
@----------------------------------------------------------------------------
@----------------------------------------------
write0:
@----------------------------------------------
	cmp addy,#0x8000
	beq_long map89_
@----------------------------------------------
write1:
@----------------------------------------------
	cmp addy,#0xa000
	beq_long mapAB_
@----------------------------------------------
write2:
@----------------------------------------------
	cmp addy,#0xc000
	beq_long mapCD_
@----------------------------------------------
write3:
@----------------------------------------------
	cmp addy,#0xe000
	beq_long chr0123_
	cmp addy,#0xf000
	beq_long chr4567_
	b_long empty_W
@----------------------------------------------
	@.end
