#include "includes.h"

#ifndef ARRSIZE
#define ARRSIZE(xxxx) (sizeof((xxxx))/sizeof((xxxx)[0]))
#endif

const u8 gameHashTable[] =
{
0x71, 0x00,
0xFF, 0x00,
0x00, 0x00,
0x15, 0x00,
0xDB, 0x00,
0x00, 0x00,
0x88, 0x00,
0x00, 0x00,
0x0C, 0x00,
0x16, 0x00,
0x35, 0x00,
0x67, 0x00,
0x75, 0x00,
0x92, 0x00,
0x99, 0x00,
0xB7, 0x00,
0x00, 0x00,
0x28, 0x41,
0xA5, 0x41,
0xE8, 0x00,
0x00, 0x00,
0x58, 0x00,
0x00, 0x00,
0x6F, 0x00,
0x00, 0x00,
0x8C, 0x00,
0x00, 0x00,
0x61, 0x45,
0x00, 0x00,
0xD3, 0x52,
0x00, 0x00,
0x14, 0x00,
0x00, 0x00,
0xAA, 0x00,
0x00, 0x00,
0x3C, 0x00,
0x00, 0x00,
0x9C, 0x00,
0x00, 0x00,
0xB3, 0x55,
0x00, 0x00,
0x34, 0x00,
0x66, 0x45,
0xF4, 0x20,
0x00, 0x00,
0x3D, 0x00,
0x6A, 0x49,
0x00, 0x00,
0x19, 0x00,
0x00, 0x00,
0x1D, 0x00,
0x00, 0x00,
0x46, 0x45,
0x00, 0x00,
0x0D, 0x45,
0x00, 0x00,
0xBF, 0x20,
0x00, 0x00,
0x28, 0x46,
0x4B, 0x00,
0x90, 0x00,
0x9A, 0x00,
0xBD, 0x00,
0x00, 0x00,
0x39, 0x00,
0x43, 0x00,
0x97, 0x00,
0x00, 0x00,
0xA5, 0x52,
0x00, 0x00,
0x18, 0x49,
0x3F, 0x00,
0x66, 0x4C,
0xC6, 0x20,
0x00, 0x00,
0x95, 0x00,
0xB3, 0x52,
0x00, 0x00,
0x3E, 0x00,
0xE0, 0x00,
0x00, 0x00,
0x0D, 0x52,
0x69, 0x00,
0xF2, 0x00,
0x00, 0x00,
0x59, 0x00,
0xC6, 0x41,
0x00, 0x00,
0x86, 0x00,
0xA8, 0x00,
0x00, 0x00,
0xBF, 0x43,
0xCE, 0x00,
0xD1, 0x00,
0xF0, 0x00,
0x00, 0x00,
0x36, 0x00,
0x00, 0x00,
0x27, 0x42,
0x49, 0x00,
0x5C, 0x00,
0xB3, 0x42,
0x00, 0x00,
0xC9, 0x00,
0x00, 0x00,
0x4E, 0x00,
0x00, 0x00,
0x18, 0x4B,
0x6A, 0x4B,
0x6B, 0x00,
0x00, 0x00,
0x9D, 0x00,
0x00, 0x00,
0x17, 0x00,
0x27, 0x4E,
0x61, 0x41,
0x8B, 0x00,
0x00, 0x00,
0x01, 0x00,
0x10, 0x00,
0x29, 0x00,
0x52, 0x00,
0x5D, 0x00,
0x68, 0x00,
0x6D, 0x00,
0xF6, 0x00,
0x00, 0x00,
0x70, 0x00,
0x00, 0x00,
0xA2, 0x00,
0xF7, 0x00,
0x00, 0x00,
0x46, 0x52,
0x00, 0x00,
0xD3, 0x49,
0x00, 0x00,
0xF4, 0x2D
};

static const int FIRST_GBC_PALETTE = 49;

int GetGbcPaletteNumber(u8 *rom)
{
	// Always "Grayscale"
	return 1;
#if 0
	int entryCount = ARRSIZE(gameHashTable);
	int nameSum = 0;
	for (int i = 0; i < 16; i++)
	{
		nameSum += rom[0x0134 + i];
	}
	int fourthLetter = rom[0x0134 + 3];
	nameSum &= 0xFF;
	int gameNumber = 0;
	for (int i = 0; i < entryCount; i+=2)
	{
		int hash = gameHashTable[i];
		int disambig = gameHashTable[i+1];
		if (hash == 0)
		{
			gameNumber++;
		}
		else if (hash == nameSum)
		{
			if (disambig == 0 || disambig == fourthLetter)
			{
				return gameNumber + FIRST_GBC_PALETTE;
			}
		}
	}
	return 0;
#endif
}
